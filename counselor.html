<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Counselor Dashboard</title>
   <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif}
    body{background:#f4f6f9;display:flex;min-height:100vh;color:#333}
    .sidebar{width:220px;background:linear-gradient(180deg,#6a11cb,#2575fc);color:white;padding:25px;display:flex;flex-direction:column;box-shadow:2px 0 12px rgba(0,0,0,0.1)}
    .sidebar h2{margin-bottom:40px;text-align:center;font-size:22px}
    .sidebar a{color:white;text-decoration:none;margin:12px 0;display:flex;align-items:center;padding:10px;border-radius:8px;transition:0.2s;cursor:pointer}
    .sidebar a:hover{background:rgba(255,255,255,0.2)}
    .sidebar a span{margin-left:10px}
    .content{flex:1;padding:30px;position:relative;overflow:hidden}
    header{text-align:center;margin-bottom:30px}
    .card{background:white;padding:20px;border-radius:14px;box-shadow:0 4px 18px rgba(0,0,0,0.08);margin-bottom:20px}
    .card h3{margin-bottom:15px;color:#6a11cb}
    ul{list-style:none}
    li{margin:10px 0;padding:10px;border:1px solid #eee;border-radius:8px}
    /* Chatbox */
    .chatbox{background:white;border-radius:12px;box-shadow:0 4px 18px rgba(0,0,0,0.08);display:flex;flex-direction:column;height:420px}
    .messages{flex:1;padding:15px;overflow-y:auto}
    .msg{margin:8px 0;max-width:70%;padding:10px 14px;border-radius:12px;line-height:1.4}
    .student{background:#f1f1f1;align-self:flex-start;border-bottom-left-radius:0}
    .counselor{background:#2575fc;color:white;align-self:flex-end;border-bottom-right-radius:0}
    .chat-input{display:flex;padding:10px;border-top:1px solid #eee}
    .chat-input input{flex:1;padding:10px;border:1px solid #ccc;border-radius:8px}
    .chat-input button{margin-left:10px;background:#2575fc;color:white;border:none;padding:10px 16px;border-radius:8px;cursor:pointer}
    /* Profile slide-in */
    .profile{position:fixed;top:0;right:-320px;width:300px;height:100%;background:white;
             box-shadow:-2px 0 12px rgba(0,0,0,0.1);padding:20px;transition:0.3s}
    .profile.open{right:0}
    .profile h3{margin-bottom:10px;color:#2575fc}
    .profile p{margin:8px 0;color:#444}
    .close-btn{background:#2575fc;color:white;padding:6px 10px;border:none;border-radius:6px;cursor:pointer}
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>Counselor</h2>
    <a onclick="switchView('dashboard')">üìä <span>Dashboard</span></a>
    <a onclick="switchView('students')">üë®‚Äçüéì <span>My Students</span></a>
    <a onclick="switchView('chat')">üí¨ <span>Chat</span></a>
    <a onclick="openProfile()">üë§ <span>Profile</span></a>
    <a>üö™ <span>Logout</span></a>
  </div>

  <div class="content">
    <header><h2 id="pageTitle">Dashboard</h2></header>

    <!-- Dashboard -->
    <section id="dashboardView">
      <div class="card">
        <h3>Welcome Back!</h3>
        <p>You have <b>2</b> assigned students today.</p>
      </div>
    </section>

    <!-- My Students -->
    <section id="studentsView" style="display:none;">
      <div class="card">
        <h3>Assigned Students</h3>
        <ul>
          <li>Ronak (Assigned at 10:00 AM)</li>
          <li>Aryan (Assigned at 10:20 AM)</li>
        </ul>
      </div>
    </section>

    <!-- Chat -->
    <section id="chatView" style="display:none;">
      <div class="card">
        <h3>Chat with Ronak</h3>
        <div class="chatbox">
          <div class="messages" id="messages">
            <div class="msg student">Hi Sir, I wanted to talk about exam stress.</div>
            <div class="msg counselor">Of course Ronak, I‚Äôm here to help. Can you tell me what worries you the most?</div>
            <div class="msg student">I keep forgetting things during revision.</div>
            <div class="msg counselor">That‚Äôs normal under stress. We‚Äôll work on techniques to manage it.</div>
          </div>
          <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Type a message...">
            <button onclick="sendMsg()">Send</button>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Profile slide-in -->
  <div class="profile" id="profile">
    <h3>Dr. Mehta</h3>
    <p><b>Specialization:</b> Exam Stress, Career Guidance</p>
    <p><b>Experience:</b> 8 Years</p>
    <p><b>Email:</b> dr.mehta@example.com</p>
    <button class="close-btn" onclick="closeProfile()">Close</button>
  </div>

  <script>
    function switchView(view){
      document.getElementById("dashboardView").style.display="none";
      document.getElementById("studentsView").style.display="none";
      document.getElementById("chatView").style.display="none";
      document.getElementById(view+"View").style.display="block";
      document.getElementById("pageTitle").innerText=view.charAt(0).toUpperCase()+view.slice(1);
    }

    function sendMsg(){
      let input=document.getElementById("chatInput");
      let text=input.value.trim();
      if(text!==""){
        let msg=document.createElement("div");
        msg.className="msg counselor";
        msg.textContent=text;
        document.getElementById("messages").appendChild(msg);
        input.value="";
        let box=document.getElementById("messages");
        box.scrollTop=box.scrollHeight;
      }
    }

    function openProfile(){
      document.getElementById("profile").classList.add("open");
    }
    function closeProfile(){
      document.getElementById("profile").classList.remove("open");
    }

    // default
    switchView("dashboard");
  </script>
   <script>
    // Firebase configuration
    const firebaseConfig = {
         apiKey: "AIzaSyDXuMuxzI16MFE5qc58gqLBLUKzCgc3-R4",
  authDomain: "mindcare-website-234d8.firebaseapp.com",
  projectId: "mindcare-website-234d8",
  storageBucket: "mindcare-website-234d8.firebasestorage.app",
  messagingSenderId: "553199707478",
  appId: "1:553199707478:web:f0706d1decf2cf6abee2f7"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    
    // Check authentication state
    firebase.auth().onAuthStateChanged((user) => {
        if (!user) {
            // User is not signed in, redirect to login
            window.location.href = 'login.html';
        }
    });
    
    function logout() {
        firebase.auth().signOut().then(() => {
            window.location.href = 'index.html';
        }).catch((error) => {
            console.error('Logout error:', error);
        });
    }

    // ... (keep your existing functions) ...
  </script>
</body>
</html>

